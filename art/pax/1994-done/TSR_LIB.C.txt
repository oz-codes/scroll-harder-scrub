15,01#include <dos.h>
15,01#include <stdio.h>


15,01/*-----------------------------------------------------
15,01        Checks to see if there is vector 66H is used
15,01        in :
15,01                none
15,01        return :
15,01                 status : 1 = used
15,01                                  0 = unused
15,01-------------------------------------------------------*/
15,01int check_vector (void)
15,01{
15,01        if(getvect(0x66) == NULL) return 0;
15,01                return 1;
15,01}

15,01/*-----------------------------------------------------
15,01        Checks if TSR is loaded
15,01        in :
15,01                none
15,01        return :
15,01                 status : 1 = loaded
15,01                                  0 = not loaded
15,01-------------------------------------------------------*/
15,01int tsr_loaded (void)
15,01{
15,01        union REGS r;

15,01        r.h.ah = 0;
15,01        int86(0x66,&r,&r);
15,01        if(r.h.ah == 0xff)
15,01                return 1;
15,01        else
15,01                return 0;
15,01}

15,01/*-----------------------------------------------------
15,01        Unload TSR from memory
15,01        in :
15,01                none
15,01        return :
15,01                 status : 0 = unloaded, else error code
15,01-------------------------------------------------------*/
15,01int tsr_unload (void)
15,01{
15,01        union REGS r;

15,01        r.h.ah = 1;
15,01        int86(0x66,&r,&r);

15,01        if(_AH == 0xff) return _AL;
15,01                else return 0;
15,01}

15,01/*-----------------------------------------------------
15,01        Enable TSR
15,01        in :
15,01                none
15,01        return :
15,01                none
15,01-------------------------------------------------------*/
15,01void tsr_enable (void)
15,01{
15,01        union REGS r;

15,01        r.h.ah = 2;
15,01        int86(0x66,&r,&r);
15,01}

15,01/*-----------------------------------------------------
15,01        Disable TSR
15,01        in :
15,01                none
15,01        return :
15,01                none
15,01-------------------------------------------------------*/
15,01void tsr_disable (void)
15,01{
